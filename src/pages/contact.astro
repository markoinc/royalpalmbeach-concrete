---
import BaseLayout from '../layouts/BaseLayout.astro';
import { siteConfig } from '../config/site';

const contactSchema = {
  "@context": "https://schema.org",
  "@type": "ContactPage",
  "mainEntity": {
    "@type": "LocalBusiness",
    "name": siteConfig.name,
    "telephone": siteConfig.phone,
    "email": siteConfig.email,
    "address": {
      "@type": "PostalAddress",
      "addressLocality": siteConfig.address.city,
      "addressRegion": siteConfig.address.state,
      "postalCode": siteConfig.address.zip
    }
  }
};
---

<BaseLayout 
  title="Contact Us"
  description={`Contact ${siteConfig.name} for a free concrete estimate in ${siteConfig.address.city}, FL. Call ${siteConfig.phone} or fill out our online form.`}
  canonical={`${siteConfig.url}/contact/`}
  schema={[contactSchema]}
>
  <!-- Hero -->
  <section class="bg-gradient-to-br from-navy to-navy-dark text-white py-16 md:py-20">
    <div class="container text-center">
      <h1 class="text-4xl md:text-5xl font-bold mb-4">Contact Us</h1>
      <p class="text-xl text-gray-300 max-w-2xl mx-auto">Get in touch for a free estimate on your concrete project. We're here to help!</p>
    </div>
  </section>
  
  <!-- Contact Section -->
  <section class="py-16 md:py-24">
    <div class="container">
      <div class="grid lg:grid-cols-2 gap-12">
        <!-- Contact Info -->
        <div>
          <h2 class="text-2xl font-bold text-navy mb-6">Get In Touch</h2>
          <p class="text-gray-600 mb-8">Whether you're planning a new driveway, patio, or any concrete project, we're here to help. Contact us today for a free, no-obligation estimate.</p>
          
          <div class="space-y-6">
            <div class="flex items-start gap-4">
              <div class="w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0">
                <svg class="w-6 h-6 text-primary" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/>
                </svg>
              </div>
              <div>
                <h3 class="font-bold text-lg">Phone</h3>
                <a href={`tel:${siteConfig.phoneRaw}`} class="text-primary hover:underline text-lg">{siteConfig.phone}</a>
              </div>
            </div>
            
            <div class="flex items-start gap-4">
              <div class="w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0">
                <svg class="w-6 h-6 text-primary" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/>
                </svg>
              </div>
              <div>
                <h3 class="font-bold text-lg">Email</h3>
                <a href={`mailto:${siteConfig.email}`} class="text-primary hover:underline">{siteConfig.email}</a>
              </div>
            </div>
            
            <div class="flex items-start gap-4">
              <div class="w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0">
                <svg class="w-6 h-6 text-primary" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/>
                </svg>
              </div>
              <div>
                <h3 class="font-bold text-lg">Service Area</h3>
                <p class="text-gray-600">{siteConfig.address.city}, {siteConfig.address.state} {siteConfig.address.zip}</p>
                <p class="text-gray-600">{siteConfig.county}</p>
              </div>
            </div>
            
            <div class="flex items-start gap-4">
              <div class="w-12 h-12 bg-primary/10 rounded-lg flex items-center justify-center flex-shrink-0">
                <svg class="w-6 h-6 text-primary" fill="currentColor" viewBox="0 0 24 24">
                  <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67z"/>
                </svg>
              </div>
              <div>
                <h3 class="font-bold text-lg">Business Hours</h3>
                <p class="text-gray-600">Mon-Fri: {siteConfig.hours.weekdays}</p>
                <p class="text-gray-600">Sat: {siteConfig.hours.saturday}</p>
                <p class="text-gray-600">Sun: {siteConfig.hours.sunday}</p>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Contact Form -->
        <div class="bg-white rounded-xl shadow-lg p-8 border border-gray-100">
          <h3 class="text-2xl font-bold text-navy mb-6">Request a Free Estimate</h3>
          
          <!-- GHL Form Embed - Update form URL in site.ts when form is created -->
          {siteConfig.ghlFormUrl && !siteConfig.ghlFormUrl.includes('PLACEHOLDER') ? (
            <iframe 
              src={siteConfig.ghlFormUrl}
              style="border:none; width:100%; min-height:450px;"
              scrolling="no"
              id="ghl-contact-form"
              title="Contact Form">
            </iframe>
          ) : (
            <form class="space-y-5" action="https://services.leadconnectorhq.com/hooks/formSubmit" method="POST">
              <input type="hidden" name="location_id" value="OsNgWuy8oZzLbp5BXbnD">
              <input type="hidden" name="form_name" value="Royal Palm Beach Concrete Contact">
              <div class="grid md:grid-cols-2 gap-5">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Name *</label>
                  <input type="text" name="name" required class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition">
                </div>
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Phone *</label>
                  <input type="tel" name="phone" required class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition">
                </div>
              </div>
              
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                <input type="email" name="email" class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition">
              </div>
              
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Service Needed</label>
                <select name="service" class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition">
                  <option value="">Select a service...</option>
                  {siteConfig.services.map(service => (
                    <option value={service.slug}>{service.name}</option>
                  ))}
                  <option value="other">Other</option>
                </select>
              </div>
              
              <div>
                <label class="block text-sm font-medium text-gray-700 mb-2">Project Details</label>
                <textarea name="message" rows="4" placeholder="Tell us about your project..." class="w-full px-4 py-3 rounded-lg border border-gray-300 focus:border-primary focus:ring-2 focus:ring-primary/20 outline-none transition resize-none"></textarea>
              </div>
              
              <button type="submit" class="btn btn-primary w-full text-lg">Submit Request</button>
            </form>
          )}
          <script src="https://link.msgsndr.com/js/form_embed.js"></script>
          
          <p class="text-sm text-gray-500 text-center mt-4">We typically respond within 24 hours.</p>
        </div>
      </div>
    </div>
  </section>
</BaseLayout>
